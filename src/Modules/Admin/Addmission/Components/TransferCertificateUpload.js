import React from "react";
import { FaTimes } from "react-icons/fa"; // Importing the Font Awesome remove icon

const TransferCertificateUpload = ({
  pdfPreview,
  handleTcBrowseClick,
  handleTcChange,
  clearPdfPreview,
}) => {
  const tcFileInputRef = React.useRef(null);

  return (
    <div className="mt-6">
      <h2 className="text-xl font-semibold mb-4">
        Previous School Information
      </h2>
      <div className="flex flex-col items-center justify-center border-2 border-dashed border-gray-300 p-4 rounded-lg relative w-full h-64">
        {pdfPreview ? (
          <div className="relative w-full h-full">
            <embed
              src={pdfPreview}
              type="application/pdf"
              className="w-full h-full"
            />
            <button
              type="button"
              onClick={() => clearPdfPreview(tcFileInputRef)}
              className="absolute top-2 right-2  text-purple-500 bg-purple-300 transition transform hover:scale-110 hover:bg-purple-500 hover:text-purple-700"
              style={{
                borderRadius: "50%",
                padding: "0.25rem",
                boxShadow: "0 2px 4px rgba(0, 0, 0, 0.1)",
              }}
            >
              <FaTimes size={20} />
            </button>
          </div>
        ) : (
          <div className="flex flex-col items-center">
            <button
              type="button"
              onClick={() => tcFileInputRef.current.click()}
              className="mt-2 text-purple-500 underline"
            >
              <svg
                width="105"
                height="24"
                viewBox="0 0 105 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g clip-path="url(#clip0_2_203277)">
                  <path
                    d="M4 17V19C4 19.5304 4.21071 20.0391 4.58579 20.4142C4.96086 20.7893 5.46957 21 6 21H18C18.5304 21 19.0391 20.7893 19.4142 20.4142C19.7893 20.0391 20 19.5304 20 19V17"
                    stroke="#4D4D4D"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M7 9L12 4L17 9"
                    stroke="#4D4D4D"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M12 4V16"
                    stroke="#4D4D4D"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </g>
                <path
                  d="M41.9148 7.31818H43.1477V14.0597C43.1477 14.7557 42.9837 15.3771 42.6555 15.924C42.3307 16.4676 41.8717 16.8968 41.2784 17.2116C40.6851 17.5232 39.9891 17.679 39.1903 17.679C38.3916 17.679 37.6955 17.5232 37.1023 17.2116C36.509 16.8968 36.0483 16.4676 35.7202 15.924C35.3954 15.3771 35.233 14.7557 35.233 14.0597V7.31818H36.4659V13.9602C36.4659 14.4574 36.5753 14.8999 36.794 15.2876C37.0128 15.6721 37.3243 15.9754 37.7287 16.1974C38.1364 16.4162 38.6236 16.5256 39.1903 16.5256C39.7571 16.5256 40.2443 16.4162 40.652 16.1974C41.0597 15.9754 41.3712 15.6721 41.5866 15.2876C41.8054 14.8999 41.9148 14.4574 41.9148 13.9602V7.31818ZM45.4508 20.3636V9.86364H46.5843V11.0767H46.7235C46.8097 10.9441 46.929 10.7751 47.0815 10.5696C47.2373 10.3608 47.4593 10.1752 47.7477 10.0128C48.0394 9.84706 48.4338 9.7642 48.9309 9.7642C49.5739 9.7642 50.1407 9.92495 50.6312 10.2464C51.1217 10.5679 51.5046 11.0237 51.7797 11.6136C52.0547 12.2036 52.1923 12.8996 52.1923 13.7017C52.1923 14.5104 52.0547 15.2114 51.7797 15.8047C51.5046 16.3946 51.1234 16.852 50.6362 17.1768C50.149 17.4983 49.5872 17.6591 48.9508 17.6591C48.4603 17.6591 48.0675 17.5779 47.7725 17.4155C47.4776 17.2498 47.2505 17.0625 47.0914 16.8537C46.9324 16.6416 46.8097 16.4659 46.7235 16.3267H46.6241V20.3636H45.4508ZM46.6042 13.6818C46.6042 14.2585 46.6887 14.7673 46.8578 15.2081C47.0268 15.6456 47.2737 15.9886 47.5985 16.2372C47.9234 16.4825 48.3211 16.6051 48.7917 16.6051C49.2823 16.6051 49.6916 16.4759 50.0197 16.2173C50.3511 15.9555 50.5997 15.6042 50.7654 15.1634C50.9345 14.7192 51.019 14.2254 51.019 13.6818C51.019 13.1449 50.9361 12.661 50.7704 12.2301C50.608 11.7959 50.3611 11.4529 50.0297 11.201C49.7015 10.9458 49.2889 10.8182 48.7917 10.8182C48.3145 10.8182 47.9134 10.9392 47.5886 11.1811C47.2638 11.4197 47.0185 11.7545 46.8528 12.1854C46.6871 12.6129 46.6042 13.1117 46.6042 13.6818ZM55.1554 7.31818V17.5H53.9821V7.31818H55.1554ZM60.4066 17.6591C59.7172 17.6591 59.1123 17.495 58.592 17.1669C58.0749 16.8388 57.6706 16.3797 57.3789 15.7898C57.0906 15.1998 56.9464 14.5104 56.9464 13.7216C56.9464 12.9261 57.0906 12.2318 57.3789 11.6385C57.6706 11.0452 58.0749 10.5845 58.592 10.2564C59.1123 9.92827 59.7172 9.7642 60.4066 9.7642C61.096 9.7642 61.6992 9.92827 62.2163 10.2564C62.7366 10.5845 63.141 11.0452 63.4293 11.6385C63.721 12.2318 63.8668 12.9261 63.8668 13.7216C63.8668 14.5104 63.721 15.1998 63.4293 15.7898C63.141 16.3797 62.7366 16.8388 62.2163 17.1669C61.6992 17.495 61.096 17.6591 60.4066 17.6591ZM60.4066 16.6051C60.9303 16.6051 61.3612 16.4709 61.6992 16.2024C62.0373 15.9339 62.2875 15.581 62.4499 15.1435C62.6123 14.706 62.6935 14.232 62.6935 13.7216C62.6935 13.2112 62.6123 12.7356 62.4499 12.2947C62.2875 11.8539 62.0373 11.4976 61.6992 11.2259C61.3612 10.9541 60.9303 10.8182 60.4066 10.8182C59.8829 10.8182 59.4521 10.9541 59.114 11.2259C58.7759 11.4976 58.5257 11.8539 58.3633 12.2947C58.2009 12.7356 58.1197 13.2112 58.1197 13.7216C58.1197 14.232 58.2009 14.706 58.3633 15.1435C58.5257 15.581 58.7759 15.9339 59.114 16.2024C59.4521 16.4709 59.8829 16.6051 60.4066 16.6051ZM67.905 17.679C67.4211 17.679 66.9819 17.5878 66.5875 17.4055C66.1931 17.2199 65.8799 16.9531 65.6479 16.6051C65.4159 16.2538 65.2999 15.8295 65.2999 15.3324C65.2999 14.8949 65.3861 14.5402 65.5584 14.2685C65.7308 13.9934 65.9611 13.7779 66.2495 13.6222C66.5378 13.4664 66.856 13.3504 67.204 13.2741C67.5553 13.1946 67.9083 13.1316 68.263 13.0852C68.727 13.0256 69.1032 12.9808 69.3915 12.951C69.6832 12.9179 69.8953 12.8632 70.0279 12.7869C70.1638 12.7107 70.2317 12.5781 70.2317 12.3892V12.3494C70.2317 11.8589 70.0975 11.4777 69.829 11.206C69.5639 10.9342 69.1612 10.7983 68.6209 10.7983C68.0608 10.7983 67.6216 10.9209 67.3034 11.1662C66.9853 11.4115 66.7615 11.6733 66.6323 11.9517L65.5186 11.554C65.7175 11.09 65.9827 10.7287 66.3141 10.4702C66.6489 10.2083 67.0134 10.026 67.4078 9.9233C67.8056 9.81723 68.1967 9.7642 68.5811 9.7642C68.8264 9.7642 69.1081 9.79403 69.4263 9.85369C69.7478 9.91004 70.0577 10.0277 70.356 10.2067C70.6576 10.3857 70.9078 10.6558 71.1067 11.017C71.3056 11.3783 71.405 11.8622 71.405 12.4688V17.5H70.2317V16.4659H70.1721C70.0925 16.6316 69.9599 16.8089 69.7743 16.9979C69.5887 17.1868 69.3418 17.3475 69.0336 17.4801C68.7253 17.6127 68.3491 17.679 67.905 17.679ZM68.084 16.625C68.548 16.625 68.9391 16.5339 69.2573 16.3516C69.5788 16.1693 69.8207 15.9339 69.9831 15.6456C70.1489 15.3572 70.2317 15.054 70.2317 14.7358V13.6619C70.182 13.7216 70.0726 13.7763 69.9036 13.826C69.7379 13.8724 69.5456 13.9138 69.3269 13.9503C69.1114 13.9834 68.901 14.0133 68.6955 14.0398C68.4933 14.063 68.3292 14.0829 68.2033 14.0994C67.8984 14.1392 67.6133 14.2038 67.3482 14.2933C67.0864 14.3795 66.8742 14.5104 66.7118 14.6861C66.5527 14.8584 66.4732 15.0937 66.4732 15.392C66.4732 15.7997 66.624 16.108 66.9256 16.3168C67.2305 16.5223 67.6167 16.625 68.084 16.625ZM76.43 17.6591C75.7937 17.6591 75.2319 17.4983 74.7447 17.1768C74.2575 16.852 73.8763 16.3946 73.6012 15.8047C73.3261 15.2114 73.1886 14.5104 73.1886 13.7017C73.1886 12.8996 73.3261 12.2036 73.6012 11.6136C73.8763 11.0237 74.2591 10.5679 74.7496 10.2464C75.2402 9.92495 75.8069 9.7642 76.4499 9.7642C76.9471 9.7642 77.3398 9.84706 77.6282 10.0128C77.9199 10.1752 78.1419 10.3608 78.2944 10.5696C78.4502 10.7751 78.5711 10.9441 78.6573 11.0767H78.7567V7.31818H79.93V17.5H78.7965V16.3267H78.6573C78.5711 16.4659 78.4485 16.6416 78.2894 16.8537C78.1303 17.0625 77.9033 17.2498 77.6083 17.4155C77.3133 17.5779 76.9206 17.6591 76.43 17.6591ZM76.5891 16.6051C77.0598 16.6051 77.4575 16.4825 77.7823 16.2372C78.1071 15.9886 78.354 15.6456 78.5231 15.2081C78.6921 14.7673 78.7766 14.2585 78.7766 13.6818C78.7766 13.1117 78.6938 12.6129 78.5281 12.1854C78.3623 11.7545 78.1171 11.4197 77.7923 11.1811C77.4674 10.9392 77.0664 10.8182 76.5891 10.8182C76.092 10.8182 75.6777 10.9458 75.3462 11.201C75.0181 11.4529 74.7712 11.7959 74.6055 12.2301C74.4431 12.661 74.3619 13.1449 74.3619 13.6818C74.3619 14.2254 74.4447 14.7192 74.6104 15.1634C74.7795 15.6042 75.0281 15.9555 75.3562 16.2173C75.6876 16.4759 76.0986 16.6051 76.5891 16.6051ZM89.5799 9.86364V10.858H85.4634V9.86364H89.5799ZM86.6964 17.5V8.80966C86.6964 8.37216 86.7991 8.00758 87.0046 7.71591C87.2101 7.42424 87.4769 7.20549 87.805 7.05966C88.1332 6.91383 88.4795 6.84091 88.8441 6.84091C89.1325 6.84091 89.3678 6.86411 89.5501 6.91051C89.7324 6.95691 89.8683 7 89.9577 7.03977L89.6197 8.05398C89.56 8.03409 89.4772 8.00923 89.3711 7.9794C89.2683 7.94957 89.1325 7.93466 88.9634 7.93466C88.5756 7.93466 88.2956 8.03243 88.1232 8.22798C87.9542 8.42353 87.8697 8.71023 87.8697 9.08807V17.5H86.6964ZM91.2243 17.5V9.86364H92.3975V17.5H91.2243ZM91.8208 8.59091C91.5922 8.59091 91.3949 8.51302 91.2292 8.35724C91.0668 8.20147 90.9856 8.0142 90.9856 7.79545C90.9856 7.5767 91.0668 7.38944 91.2292 7.23366C91.3949 7.07789 91.5922 7 91.8208 7C92.0495 7 92.2451 7.07789 92.4075 7.23366C92.5732 7.38944 92.6561 7.5767 92.6561 7.79545C92.6561 8.0142 92.5732 8.20147 92.4075 8.35724C92.2451 8.51302 92.0495 8.59091 91.8208 8.59091ZM95.7198 7.31818V17.5H94.5465V7.31818H95.7198ZM101.07 17.6591C100.335 17.6591 99.7 17.4967 99.1664 17.1719C98.6361 16.8438 98.2267 16.3864 97.9384 15.7997C97.6533 15.2098 97.5108 14.5237 97.5108 13.7415C97.5108 12.9593 97.6533 12.2699 97.9384 11.6733C98.2267 11.0734 98.6278 10.6061 99.1415 10.2713C99.6586 9.93324 100.262 9.7642 100.951 9.7642C101.349 9.7642 101.742 9.83049 102.129 9.96307C102.517 10.0956 102.87 10.3111 103.188 10.6094C103.507 10.9044 103.76 11.2955 103.949 11.7827C104.138 12.2699 104.232 12.8698 104.232 13.5824V14.0795H98.3461V13.0653H103.039C103.039 12.6345 102.953 12.25 102.781 11.9119C102.612 11.5739 102.37 11.3071 102.055 11.1115C101.743 10.916 101.375 10.8182 100.951 10.8182C100.484 10.8182 100.079 10.9342 99.7381 11.1662C99.4 11.3949 99.1399 11.6932 98.9576 12.0611C98.7753 12.429 98.6841 12.8234 98.6841 13.2443V13.9205C98.6841 14.4972 98.7836 14.986 98.9824 15.3871C99.1846 15.7848 99.4647 16.0881 99.8226 16.2969C100.181 16.5024 100.597 16.6051 101.07 16.6051C101.379 16.6051 101.657 16.562 101.906 16.4759C102.158 16.3864 102.375 16.2538 102.557 16.0781C102.739 15.8991 102.88 15.6771 102.98 15.4119L104.113 15.7301C103.994 16.1146 103.793 16.4527 103.512 16.7443C103.23 17.0327 102.882 17.258 102.468 17.4205C102.053 17.5795 101.588 17.6591 101.07 17.6591Z"
                  fill="#4D4D4D"
                />
                <defs>
                  <clipPath id="clip0_2_203277">
                    <rect width="24" height="24" fill="white" />
                  </clipPath>
                </defs>
              </svg>
            </button>
            <input
              type="file"
              className="hidden"
              accept="application/pdf"
              ref={tcFileInputRef}
              onChange={handleTcChange}
            />
          </div>
        )}
      </div>
    </div>
  );
};

export default TransferCertificateUpload;
